# =============================================================================
# Ascii loader
# =============================================================================


name: Ascii
file-patterns: ["*.dat"]
rows: [1]
cols: [1]


environment:
  x-index: 1
  y-indexes: []
  columns: (load-text file)
  t: (item columns x-index)
  series: (take columns y-indexes) #[(item columns 1), (item columns 2)]
  colors: [magenta, orange]
  styles: [dash, solid]
  widths: [1, 4]
  x: [10, 14]


figures:

- title: (basename file)
  xlabel: X
  ylabel: Y
  domain: $domain
  can-edit-title: false
  can-deform-domain: false
  margin: $margin
  border-width: 2
  content:
  - (map plot t series lw=widths ls=styles lc=colors)

  capture:
    margin: margin
    domain: domain


controls:
- type: table
  scroll-position: $scroll-position
  abscissa: $x-index
  selected: $y-indexes
  columns: $columns
  capture:
    scroll-position: scroll-position
    abscissa: x-index
    selected: y-indexes

  # columns:
    # - [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
    # - (map attr margin (list 'top' 'bottom' 'left' 'right'))
    # - (item columns 1)
    # - $y-indexes
